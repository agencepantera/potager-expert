---
---

<div class="fixed top-0 left-0 w-full h-1 z-50">
  <div id="reading-progress" class="h-full bg-leaf-500 w-0 transition-all duration-150"></div>
</div>

<script>
  function updateReadingProgress() {
    const article = document.querySelector('article');
    if (!article) return;

    const progress = document.getElementById('reading-progress');
    if (!progress) return;

    const scrollTop = window.scrollY;
    const scrollHeight = article.scrollHeight;
    const clientHeight = document.documentElement.clientHeight;
    
    const percentage = (scrollTop / (scrollHeight - clientHeight)) * 100;
    progress.style.width = `${Math.min(100, Math.max(0, percentage))}%`;
  }

  document.addEventListener('scroll', updateReadingProgress);
  document.addEventListener('resize', updateReadingProgress);
  document.addEventListener('astro:after-swap', updateReadingProgress);
</script>
